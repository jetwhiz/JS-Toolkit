/* https://github.com/jetwhiz/JS-Toolkit: 2015-10-12 */
"use strict";var EventManager={addEvent:function(e,n,t){(""===e||"undefined"==typeof e)&&(e=document),(""===e.eventListeners||"undefined"==typeof e.eventListeners)&&(e.eventListeners=[]),(""===e.eventListeners[n]||"undefined"==typeof e.eventListeners[n])&&(e.eventListeners[n]=[]);for(var r=0;r<e.eventListeners[n].length;++r)if(t==e.eventListeners[n][r])return!0;return e.eventListeners[n][e.eventListeners[n].length]=t,e.eventListeners[n].length>1?!0:(e[n]=function(n){return function(t){for(var r=!0,i=0;i<e.eventListeners[n].length;++i)e.listenFunc=e.eventListeners[n][i],r=e.listenFunc(t)&&r;return r}}(n),!0)},attachEvent:function(e,n,t){var r="on"+n;(""===e||"undefined"==typeof e)&&(e=document),e.addEventListener?e.addEventListener(n,t,!1):EventManager.addEvent(e,r,t)},addLoadEvent:function(e){EventManager.attachEvent(window,"load",e)},registerAttachEvent:function(e){(""===window.registeredEvents||"undefined"==typeof window.registeredEvents)&&(window.registeredEvents=[]);for(var n=0;n<window.registeredEvents.length;++n)if(e==window.registeredEvents[n])return!0;return window.registeredEvents[window.registeredEvents.length]=e,EventManager.addLoadEvent(e),!0},attachRegisteredEvents:function(e){if(e=e?e:document,""===window.registeredEvents||"undefined"==typeof window.registeredEvents)return!0;for(var n=0;n<window.registeredEvents.length;++n)window.registeredEvents[n](e);return!0}};