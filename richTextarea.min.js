/* https://github.com/jetwhiz/JS-Toolkit: 2015-10-12 */
var RichTextAreaToolbar={icons:["imgs/icons/text_align_left.png","imgs/icons/text_align_center.png","imgs/icons/text_align_right.png","imgs/icons/text_align_justify.png","imgs/icons/text_bold.png","imgs/icons/text_underline.png","imgs/icons/text_italic.png","imgs/icons/style_delete.png"],actions:["justifyleft","justifycenter","justifyright","justifyfull","bold","underline","italic","removeFormat"]},RichTextArea={runCommand:function(e,t,n){var i=e.contentDocument||e.contentWindow.document;try{i.execCommand(t,!1,n)}catch(a){alert("RichTextArea.runCommand ERR: "+a)}},allRichTextAreasEvent:function(){for(var e=document.getElementsByClassName("jse_richTextArea",null,this),t=0,n=e.length;n>t;++t)e[t].doOnSubmit&&e[t].doOnSubmit(null)},richTextAreaEvent:function(){var e=this.relatedIFrame;e&&"undefined"!=typeof e||alert("richTextAreaEvent ERR: Could not find my parent!");var t=e.contentDocument||e.contentWindow.document;this.value=t.body.innerHTML},attachRichTextAreaEvents:function(){for(var e=document.getElementsByClassName("jse_richTextArea"),t=0,n=e.length;n>t;++t)if(!e[t].relatedIFrame||"undefined"==typeof e[t].relatedIFrame){var i=function(e){var t=document.createElement("iframe");e.parentNode.insertBefore(t,e),t.style.width=e.style.width,t.style.height="250px",t.style.backgroundColor="#ffffff",e.style.display="none",e.relatedIFrame=t,e.doOnSubmit=RichTextArea.richTextAreaEvent;var n=null;n=t.contentDocument?function(){t.contentDocument.designMode="on",t.contentDocument.body.innerHTML=e.value}:function(){t.contentWindow.document.write(e.value),t.contentWindow.document.designMode="on"},setTimeout(n,100);var i=document.createElement("ul");i.setAttribute("style","margin: 2px; padding: 0px; list-style-type: none;");for(var a=0,o=RichTextAreaToolbar.icons.length;o>a;++a){var r=document.createElement("li");r.setAttribute("style","display: inline-block;");var c=document.createElement("img");c.src=RichTextAreaToolbar.icons[a],c.title=RichTextAreaToolbar.actions[a],c.setAttribute("style","cursor: pointer;");var l=function(e){return function(){RichTextArea.runCommand(t,e)}}(RichTextAreaToolbar.actions[a]);EventManager.attachEvent(c,"click",l),r.appendChild(c),i.appendChild(r)}e.parentNode.insertBefore(i,t)};i(e[t]),EventManager.attachEvent(e[t].form,"submit",RichTextArea.allRichTextAreasEvent)}}};EventManager.addLoadEvent(function(){RichTextArea.attachRichTextAreaEvents()});